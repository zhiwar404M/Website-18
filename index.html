<!DOCTYPE html>
<html lang="ckb" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ú¤ÛŒØ¯ÛŒÛ† Ù¾Ø±Û† - Ù¾Ù„Ø§ØªÙÛ†Ø±Ù…ÛŒ Ú¤ÛŒØ¯ÛŒÛ†ÛŒ Ù¾ÛŒØ´Û•Ú¯Û•Ø±Ø§Ù†Û•</title>
    
    <!-- ÙÛ†Ù†ØªÛ• Ø¨Ø§Ø´Û•Ú©Ø§Ù†ÛŒ Ú©ÙˆØ±Ø¯ÛŒ / Ø¹Û•Ø±Û•Ø¨ÛŒ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;500;600;700&family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Ø¨Ø§Ø´ØªØ±Ú©Ø±Ø¯Ù†ÛŒ Ø´ÛÙˆØ§Ø²ÛŒ Ù†ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ Ú¤ÛŒØ¯ÛŒÛ† */
        .video-player iframe {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            right: 0;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .video-player {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            overflow: hidden;
            border-radius: 16px;
            background: #000;
            margin-bottom: 20px;
        }
        
        /* Ú©Ø§Ø±ØªÛŒ ÙÛŒÙ„Ù… Ø¨Û• Ø´ÛÙˆØ§Ø²ÛŒ Ø¬ÙˆØ§Ù†ØªØ± */
        .video-card {
            background: var(--surface);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            position: relative;
            border: 1px solid var(--border);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .video-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 30px rgba(0, 0, 0, 0.2);
            border-color: var(--primary);
        }
        
        .video-thumbnail-wrapper {
            position: relative;
            overflow: hidden;
            aspect-ratio: 16/9;
        }
        
        .video-thumbnail {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s;
        }
        
        .video-card:hover .video-thumbnail {
            transform: scale(1.1);
        }
        
        .play-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            width: 60px;
            height: 60px;
            background: rgba(239, 68, 68, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 28px;
            opacity: 0;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(239, 68, 68, 0.5);
        }
        
        .video-card:hover .play-overlay {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
        
        .duration-badge {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Ø³ØªØ§ÛŒÙ„ÛŒ Ù†ÙˆÛ Ø¨Û† Ú©Ø§Ø±ØªÛŒ ÙÛŒÙ„Ù… */
        .video-stats {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .stat-badge {
            display: flex;
            align-items: center;
            gap: 5px;
            background: var(--background);
            padding: 5px 10px;
            border-radius: 20px;
        }
        
        /* responsive */
        @media (max-width: 768px) {
            .play-overlay {
                width: 45px;
                height: 45px;
                font-size: 22px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav>
            <div class="logo">
                <span class="logo-icon">â–¶ï¸</span>
                <span>Ú¤ÛŒØ¯ÛŒÛ† Ù¾Ø±Û†</span>
            </div>

            <div class="search-wrapper">
                <input type="text" id="searchInput" placeholder="Ú¯Û•Ú•Ø§Ù† Ø¨Û† Ú¤ÛŒØ¯ÛŒÛ†...">
                <span class="search-icon">ğŸ”</span>
            </div>

            <div class="nav-actions">
                <div class="hidden" id="authButtons">
                    <button class="btn btn-outline" onclick="openAuthModal('login')">Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ•</button>
                    <button class="btn btn-primary" onclick="openAuthModal('register')">Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ù‡Û•Ú˜Ù…Ø§Ø±</button>
                </div>
                
                <div class="user-wrapper hidden" id="userWrapper">
                    <img src="https://via.placeholder.com/100" alt="User" class="user-avatar" id="userAvatar">
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item" onclick="showProfile()">
                            <span>ğŸ‘¤</span>
                            <span>Ù¾Ú•Û†ÙØ§ÛŒÙ„</span>
                        </a>
                        <a href="#" class="dropdown-item" onclick="showVideos()">
                            <span>ğŸ“¹</span>
                            <span>Ú¤ÛŒØ¯ÛŒÛ†Ú©Ø§Ù†</span>
                        </a>
                        <div style="height: 1px; background: var(--border); margin: 8px 0;"></div>
                        <a href="#" class="dropdown-item" onclick="logout()">
                            <span>ğŸšª</span>
                            <span>Ú†ÙˆÙˆÙ†Û•Ø¯Û•Ø±Û•ÙˆÛ•</span>
                        </a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <div class="container" id="mainContent">
        <div class="page-header">
            <h1 class="page-title">Ú©ØªÛØ¨Ø®Ø§Ù†Û•ÛŒ Ú¤ÛŒØ¯ÛŒÛ†</h1>
            <p class="page-subtitle">Ú¯Û•Ú•Ø§Ù† Ù„Û• Ù†ÛÙˆØ§Ù† Ú¤ÛŒØ¯ÛŒÛ†ÛŒ Ø¬Û†Ø±Ø§ÙˆØ¬Û†Ø±ÛŒ Ú©ÙˆØ§Ù„ÛØªÛŒ Ø¨Û•Ø±Ø²Ø¯Ø§</p>
        </div>
        <div class="videos-grid" id="videosGrid"></div>
        <div class="no-results hidden" id="noResults">
            Ù‡ÛŒÚ† Ú¤ÛŒØ¯ÛŒÛ†ÛŒÛ•Ú© Ù†Û•Ø¯Û†Ø²Ø±Ø§ÛŒÛ•ÙˆÛ• ğŸ”
        </div>
    </div>

    <!-- Profile Page -->
    <div class="profile-container hidden" id="profilePage">
        <div class="profile-banner">
            <img src="https://via.placeholder.com/120" alt="Profile" class="profile-avatar-large" id="profileAvatarLarge">
            <h1 class="profile-name" id="profileName">Ù†Ø§ÙˆÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Û•Ø±</h1>
            <p class="profile-email" id="profileEmail">user@example.com</p>
        </div>

        <div class="profile-stats">
            <div class="stat-card">
                <div class="stat-value" id="totalWatched">0</div>
                <div class="stat-label">Ú¤ÛŒØ¯ÛŒÛ†ÛŒ Ø¨ÛŒÙ†Ø±Ø§Ùˆ</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalComments">0</div>
                <div class="stat-label">Ø¨Û†Ú†ÙˆÙˆÙ†Û•Ú©Ø§Ù†</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="joinedDays">0</div>
                <div class="stat-label">Ú•Û†Ú˜ Ù„Û• Ù¾Ù„Ø§ØªÙÛ†Ø±Ù…Ø¯Ø§</div>
            </div>
        </div>

        <button class="btn btn-primary" onclick="showVideos()" style="margin: 0 auto; display: block;">
            Ú¯Û•Ú•Ø§Ù†Û•ÙˆÛ• Ø¨Û† Ú¤ÛŒØ¯ÛŒÛ†Ú©Ø§Ù†
        </button>
    </div>

    <!-- Video Modal -->
    <div class="video-modal" id="videoModal">
        <span class="close-modal" onclick="closeVideoModal()">&times;</span>
        <div class="modal-content">
            <div class="video-player" id="videoPlayer"></div>
            <div class="video-details" id="videoDetailsContent"></div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-box">
            <span class="close-modal" onclick="closeAuthModal()" style="position: absolute; top: 20px; right: 20px; width: 40px; height: 40px; font-size: 24px;">&times;</span>
            
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ•</button>
                <button class="auth-tab" data-tab="register">Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ù‡Û•Ú˜Ù…Ø§Ø±</button>
            </div>

            <!-- Login Form -->
            <form class="auth-form active" id="loginForm">
                <button type="button" class="google-btn" onclick="loginWithGoogle()">
                    <svg width="20" height="20" viewBox="0 0 20 20">
                        <path fill="#4285F4" d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z"/>
                        <path fill="#34A853" d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z"/>
                        <path fill="#FBBC05" d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z"/>
                        <path fill="#EA4335" d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z"/>
                    </svg>
                    Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ• Ù„Û• Ú•ÛÚ¯Û•ÛŒ Google
                </button>

                <div class="divider">ÛŒØ§Ù†</div>

                <div class="form-group">
                    <label class="form-label">Ø¦ÛŒÙ…Û•ÛŒÚµ</label>
                    <input type="email" class="form-input" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ÙˆØ´Û•ÛŒ Ù†Ù‡ÛÙ†ÛŒ</label>
                    <input type="password" class="form-input" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ•</button>
            </form>

            <!-- Register Form -->
            <form class="auth-form" id="registerForm">
                <button type="button" class="google-btn" onclick="loginWithGoogle()">
                    <svg width="20" height="20" viewBox="0 0 20 20">
                        <path fill="#4285F4" d="M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z"/>
                        <path fill="#34A853" d="M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z"/>
                        <path fill="#FBBC05" d="M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z"/>
                        <path fill="#EA4335" d="M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z"/>
                    </svg>
                    ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø¯Ù† Ù„Û• Ú•ÛÚ¯Û•ÛŒ Google
                </button>

                <div class="divider">ÛŒØ§Ù†</div>

                <div class="form-group">
                    <label class="form-label">Ù†Ø§Ùˆ</label>
                    <input type="text" class="form-input" id="registerName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø¦ÛŒÙ…Û•ÛŒÚµ</label>
                    <input type="email" class="form-input" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">ÙˆØ´Û•ÛŒ Ù†Ù‡ÛÙ†ÛŒ</label>
                    <input type="password" class="form-input" id="registerPassword" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ù‡Û•Ú˜Ù…Ø§Ø±</button>
            </form>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut, updateProfile } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, collection, addDoc, query, where, getDocs, orderBy, serverTimestamp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // Firebase Configuration - Ù¾ÛÙˆÛŒØ³ØªÛ• Ø¨Û• Ú•Ø§Ø³ØªÛ•Ù‚ÛŒÙ†Û•Ú©Ø§Ù†ÛŒ Ø®Û†Øª Ø¨ÛŒØ§Ù†Ù†ÛØ±ÛŒØª
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();

        window.auth = auth;
        window.db = db;
        window.provider = provider;
        window.currentUser = null;

        onAuthStateChanged(auth, (user) => {
            if (user) {
                window.currentUser = user;
                document.getElementById('authButtons').classList.add('hidden');
                document.getElementById('userWrapper').classList.remove('hidden');
                document.getElementById('userAvatar').src = user.photoURL || 'https://via.placeholder.com/100';
                
                if (document.getElementById('profileAvatarLarge')) {
                    document.getElementById('profileAvatarLarge').src = user.photoURL || 'https://via.placeholder.com/120';
                    document.getElementById('profileName').textContent = user.displayName || 'Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Û•Ø±';
                    document.getElementById('profileEmail').textContent = user.email;
                }
            } else {
                window.currentUser = null;
                document.getElementById('authButtons').classList.remove('hidden');
                document.getElementById('userWrapper').classList.add('hidden');
            }
        });

        window.loginWithGoogle = async function() {
            try {
                await signInWithPopup(auth, provider);
                closeAuthModal();
                alert('Ø¨Û• Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆÛŒÛŒ Ú†ÙˆÙˆÛŒØªÛ• Ú˜ÙˆÙˆØ±Û•ÙˆÛ•! ğŸ‰');
            } catch (error) {
                alert('Ù‡Û•ÚµÛ•: ' + error.message);
            }
        };

        window.registerWithEmail = async function(e) {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;

            try {
                const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                await updateProfile(userCredential.user, { displayName: name });
                closeAuthModal();
                alert('Ù‡Û•Ú˜Ù…Ø§Ø±Û•Ú©Û•Øª Ø¨Û• Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆÛŒÛŒ Ø¯Ø±ÙˆØ³Øª Ú©Ø±Ø§! ğŸ‰');
            } catch (error) {
                alert('Ù‡Û•ÚµÛ•: ' + error.message);
            }
        };

        window.loginWithEmail = async function(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            try {
                await signInWithEmailAndPassword(auth, email, password);
                closeAuthModal();
                alert('Ø¨Û• Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆÛŒÛŒ Ú†ÙˆÙˆÛŒØªÛ• Ú˜ÙˆÙˆØ±Û•ÙˆÛ•! ğŸ‰');
            } catch (error) {
                alert('Ù‡Û•ÚµÛ•: ' + error.message);
            }
        };

        window.logout = async function() {
            try {
                await signOut(auth);
                alert('Ø¨Û• Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆÛŒÛŒ Ú†ÙˆÙˆÛŒØªÛ• Ø¯Û•Ø±Û•ÙˆÛ•! ğŸ‘‹');
                showVideos();
            } catch (error) {
                alert('Ù‡Û•ÚµÛ•: ' + error.message);
            }
        };

        window.addComment = async function(videoId) {
            if (!window.currentUser) {
                alert('Ù¾ÛÙˆÛŒØ³ØªÛ• Ø¨Ú†ÛŒØªÛ• Ú˜ÙˆÙˆØ±Û•ÙˆÛ•');
                return;
            }

            const commentText = document.getElementById('commentText').value;
            if (!commentText.trim()) {
                alert('ØªÚ©Ø§ÛŒÛ• Ø¨Û†Ú†ÙˆÙˆÙ†ÛÚ© Ø¨Ù†ÙˆÙˆØ³Û•');
                return;
            }

            try {
                await addDoc(collection(db, 'comments'), {
                    videoId: videoId,
                    userId: window.currentUser.uid,
                    userName: window.currentUser.displayName || 'Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Û•Ø±',
                    userAvatar: window.currentUser.photoURL || 'https://via.placeholder.com/40',
                    text: commentText,
                    timestamp: serverTimestamp()
                });

                document.getElementById('commentText').value = '';
                loadComments(videoId);
                alert('Ø¨Û†Ú†ÙˆÙˆÙ†Û•Ú©Û•Øª Ø²ÛŒØ§Ø¯ Ú©Ø±Ø§! ğŸ’¬');
            } catch (error) {
                alert('Ù‡Û•ÚµÛ•: ' + error.message);
            }
        };

        window.loadComments = async function(videoId) {
            try {
                const q = query(
                    collection(db, 'comments'),
                    where('videoId', '==', videoId),
                    orderBy('timestamp', 'desc')
                );
                const querySnapshot = await getDocs(q);
                
                const commentsList = document.getElementById('commentsList');
                const commentsCount = document.getElementById('commentsCount');
                
                commentsCount.textContent = querySnapshot.size;
                
                if (querySnapshot.empty) {
                    commentsList.innerHTML = '<p style="text-align: center; color: var(--text-secondary); padding: 30px;">Ù‡ÛØ´ØªØ§ Ù‡ÛŒÚ† Ø¨Û†Ú†ÙˆÙˆÙ†ÛÚ© Ù†ÛŒÛŒÛ•. ÛŒÛ•Ú©Û•Ù… Ú©Û•Ø³ Ø¨Û•! ğŸ¯</p>';
                    return;
                }

                commentsList.innerHTML = '';
                querySnapshot.forEach((doc) => {
                    const comment = doc.data();
                    const date = comment.timestamp ? comment.timestamp.toDate() : new Date();
                    const commentHTML = `
                        <div class="comment">
                            <div class="comment-header">
                                <img src="${comment.userAvatar}" alt="${comment.userName}" class="comment-avatar">
                                <span class="comment-author">${comment.userName}</span>
                                <span class="comment-date">${formatDate(date)}</span>
                            </div>
                            <p class="comment-text">${comment.text}</p>
                        </div>
                    `;
                    commentsList.innerHTML += commentHTML;
                });
            } catch (error) {
                console.error('Error loading comments:', error);
            }
        };

        function formatDate(date) {
            const now = new Date();
            const diff = Math.floor((now - date) / 1000);

            if (diff < 60) return 'Ø¦ÛØ³ØªØ§';
            if (diff < 3600) return Math.floor(diff / 60) + ' Ø®ÙˆÙ„Û•Ú©';
            if (diff < 86400) return Math.floor(diff / 3600) + ' Ú©Ø§ØªÚ˜Ù…ÛØ±';
            if (diff < 2592000) return Math.floor(diff / 86400) + ' Ú•Û†Ú˜';
            return date.toLocaleDateString('ckb');
        }

        document.getElementById('loginForm').addEventListener('submit', loginWithEmail);
        document.getElementById('registerForm').addEventListener('submit', registerWithEmail);
    </script>

    <script>
        // Videos Database - ØªÛ•Ù†Ù‡Ø§ Ø¨Û• Ù„ÛŒÙ†Ú©ÛŒ streamtape Ø¨Û† Ø¨ÛŒÙ†ÛŒÙ†
        const videos = [
            {
                id: 1,
                title: "Ú¤ÛŒØ¯ÛŒÛ†ÛŒ Ø¨ÛŒØ§Ù†ÛŒ",
                thumbnail: "https://via.placeholder.com/400x300/F59E0B/1E293B?text=Python+Course",
                duration: "15:30",
                views: "1.2K",
                uploadDate: "2024-02-01",
                description: "Ø¯ÙˆØ±Û•ÛŒ ØªÛ•ÙˆØ§ÙˆÛŒ ÙÛØ±Ø¨ÙˆÙˆÙ†ÛŒ Python Ù„Û• Ø¨Ù†Û•Ú•Û•ØªÛ•Ú©Ø§Ù†Û•ÙˆÛ• ØªØ§ Ù¾ÛØ´Ú©Û•ÙˆØªÙˆÙˆ. Ù„Û•Ù… Ú¤ÛŒØ¯ÛŒÛ†ÛŒÛ•Ø¯Ø§ Ø¨Ù†Û•Ú•Û•Øª Ùˆ Ú†Û•Ù…Ú©Û• Ú¯Ø±Ù†Ú¯Û•Ú©Ø§Ù†ÛŒ Ù¾Ø±Û†Ú¯Ø±Ø§Ù…Ø³Ø§Ø²ÛŒ ÙÛØ±Ø¯Û•Ø¨ÛŒØª.",
                streamtapeUrl: "https://streamtape.com/e/elB498DqQkCYR9A/" // ØªÛ•Ù†Ù‡Ø§ Ø¨Û† Ø¨ÛŒÙ†ÛŒÙ†
            },
            {
                id: 2,
                title: "Ú¤ÛŒØ¯ÛŒÛ†ÛŒ Ø¨ÛŒØ§Ù†ÛŒ Ù¢",
                thumbnail: "https://via.placeholder.com/400x300/10B981/1E293B?text=Web+Design",
                duration: "22:45",
                views: "2.5K",
                uploadDate: "2024-02-03",
                description: "ÙÛØ±Ø¨Û• Ú†Û†Ù† ÙˆÛØ¨Ø³Ø§ÛŒØªÛÚ©ÛŒ Ù¾ÛŒØ´Û•Ú¯Û•Ø±Ø§Ù†Û• Ø¯ÛŒØ²Ø§ÛŒÙ† Ø¨Ú©Û•ÛŒØª Ø¨Û• Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†ÛŒ HTML Ùˆ CSS. Ú¯ÙˆÙ†Ø¬Ø§ÙˆÛ• Ø¨Û† Ù‡Û•Ø±Ø¯ÙˆÙˆ Ø¦Ø§Ø³ØªÛŒ Ø³Û•Ø±Û•ØªØ§ÛŒÛŒ Ùˆ Ù¾ÛØ´Ú©Û•ÙˆØªÙˆÙˆ.",
                streamtapeUrl: "https://streamtape.com/e/VIDEO_ID_HERE"
            },
            {
                id: 3,
                title: "Ú¤ÛŒØ¯ÛŒÛ†ÛŒ Ø¨ÛŒØ§Ù†ÛŒ Ù£",
                thumbnail: "https://via.placeholder.com/400x300/6366F1/1E293B?text=React+JS",
                duration: "18:20",
                views: "3.1K",
                uploadDate: "2024-02-05",
                description: "Ø¯ÙˆØ±Û•ÛŒ ØªÛ•ÙˆØ§ÙˆÛŒ ÙÛØ±Ø¨ÙˆÙˆÙ†ÛŒ React.js Ù„Û• Ø³Û•Ø±Û•ØªØ§ÙˆÛ•. ÙÛØ±Ø¨Û• Ú†Û†Ù† Ø¦Û•Ù¾Ù„ÛŒÚ©Û•ÛŒØ´Ù†ÛŒ ÙˆÛØ¨ÛŒ Ú©Ø§Ø±Ù„ÛÚ©Ú©Ø§Ø± Ø¯Ø±ÙˆØ³Øª Ø¨Ú©Û•ÛŒØª.",
                streamtapeUrl: "https://streamtape.com/e/VIDEO_ID_HERE"
            },
            {
                id: 4,
                title: "Ú¤ÛŒØ¯ÛŒÛ†ÛŒ Ø¨ÛŒØ§Ù†ÛŒ Ù¤",
                thumbnail: "https://via.placeholder.com/400x300/F59E0B/1E293B?text=JavaScript",
                duration: "25:10",
                views: "4.3K",
                uploadDate: "2024-01-28",
                description: "Ù‡Û•Ù…ÙˆÙˆ Ø¦Û•Ùˆ Ø´ØªØ§Ù†Û•ÛŒ Ù¾ÛÙˆÛŒØ³ØªÛ• Ø¨Ø²Ø§Ù†ÛŒ Ø¯Û•Ø±Ø¨Ø§Ø±Û•ÛŒ JavaScript. Ú¯ÙˆÙ†Ø¬Ø§ÙˆÛ• Ø¨Û† Ù‡Û•Ù…ÙˆÙˆ Ø¦Ø§Ø³ØªÛ•Ú©Ø§Ù†.",
                streamtapeUrl: "https://streamtape.com/e/VIDEO_ID_HERE"
            },
            {
                id: 5,
                title: "Ú¤ÛŒØ¯ÛŒÛ†ÛŒ Ø¹Û•Ø±Û•Ø¨ÛŒ",
                thumbnail: "https://via.placeholder.com/400x300/8B5CF6/1E293B?text=Node.js",
                duration: "30:15",
                views: "1.8K",
                uploadDate: "2024-02-04",
                description: "ÙÛØ±Ø¨Ù†ÛŒ Ø¨Û•Ú©ÛÙ†Ø¯ÛŒ Ø¨Û•Ù‡ÛØ² Ù„Û• Ú•ÛÚ¯Û•ÛŒ Node.js Ùˆ Express. Ù„Û• Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ API ØªØ§ Ú©Ø§Ø±Ú©Ø±Ø¯Ù† Ù„Û•Ú¯Û•Úµ Ø¨Ù†Ú©Û•Ø¯Ø±Ø§ÙˆÛ•Ú©Ø§Ù†.",
                streamtapeUrl: "https://streamtape.com/e/0813Vmav33sb1wV/"
            },
            {
                id: 6,
                title: "Ú¤ÛŒØ¯ÛŒÛ†ÛŒ Ø¹Û•Ø±Û•Ø¨ÛŒ Ù¢",
                thumbnail: "https://via.placeholder.com/400x300/10B981/1E293B?text=MongoDB",
                duration: "20:40",
                views: "2.2K",
                uploadDate: "2024-01-30",
                description: "ÙÛØ±Ø¨Ù†ÛŒ Ú©Ø§Ø±Ú©Ø±Ø¯Ù† Ù„Û•Ú¯Û•Úµ MongoDBØŒ Ø¨Ù†Ú©Û•Ø¯Ø±Ø§ÙˆÛ•ÛŒ NoSQL. Ù„Û• Ø¯Ø§Ù…Û•Ø²Ø±Ø§Ù†Ø¯Ù† ØªØ§ Ú©Ø§Ø±Ù¾ÛÚ©Ø±Ø¯Ù†ÛŒ Ù¾ÛØ´Ú©Û•ÙˆØªÙˆÙˆ.",
                streamtapeUrl: "https://streamtape.com/e/7KXDLVXbPLiAOVY/"
            }
        ];

        let searchTerm = '';

        function displayVideos() {
            const grid = document.getElementById('videosGrid');
            const noResults = document.getElementById('noResults');
            
            let filteredVideos = videos;

            if (searchTerm) {
                filteredVideos = filteredVideos.filter(v => 
                    v.title.includes(searchTerm) || 
                    v.description.includes(searchTerm)
                );
            }

            if (filteredVideos.length === 0) {
                grid.classList.add('hidden');
                noResults.classList.remove('hidden');
                return;
            }

            grid.classList.remove('hidden');
            noResults.classList.add('hidden');

            grid.innerHTML = filteredVideos.map(video => `
                <div class="video-card" onclick="openVideo(${video.id})">
                    <div class="video-thumbnail-wrapper">
                        <img class="video-thumbnail" src="${video.thumbnail}" alt="${video.title}">
                        <div class="play-overlay">â–¶</div>
                        <div class="duration-badge">${video.duration}</div>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">${video.title}</h3>
                        <div class="video-stats">
                            <span class="stat-badge">
                                <span>ğŸ‘ï¸</span>
                                <span>${video.views}</span>
                            </span>
                            <span class="stat-badge">
                                <span>ğŸ“…</span>
                                <span>${formatUploadDate(video.uploadDate)}</span>
                            </span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function openVideo(id) {
            const video = videos.find(v => v.id === id);
            if (!video) return;

            const modal = document.getElementById('videoModal');
            const player = document.getElementById('videoPlayer');
            const details = document.getElementById('videoDetailsContent');

            // Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†ÛŒ iframe Ø¨Û• Ø´ÛÙˆØ§Ø²ÛŒ Ø¬ÙˆØ§Ù† Ø¨Û† Ù†ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ Ú¤ÛŒØ¯ÛŒÛ†Ú©Û•
            player.innerHTML = `
                <iframe 
                    src="${video.streamtapeUrl}" 
                    allowfullscreen 
                    allow="autoplay; fullscreen"
                    frameborder="0"
                    scrolling="no">
                </iframe>
            `;

            const commentSection = window.currentUser ? `
                <div class="comment-form">
                    <textarea 
                        class="comment-textarea" 
                        id="commentText" 
                        placeholder="Ø¨Û†Ú†ÙˆÙˆÙ†Û•Ú©Û•Øª Ù„ÛØ±Û• Ø¨Ù†ÙˆÙˆØ³Û•..."
                    ></textarea>
                    <button class="comment-submit" onclick="addComment(${video.id})">
                        Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ø¨Û†Ú†ÙˆÙˆÙ†
                    </button>
                </div>
            ` : `
                <div class="login-required">
                    <p>Ù¾ÛÙˆÛŒØ³ØªÛ• Ø¨Ú†ÛŒØªÛ• Ú˜ÙˆÙˆØ±Û•ÙˆÛ• Ø¨Û† Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ø¨Û†Ú†ÙˆÙˆÙ†</p>
                    <button class="btn btn-primary" onclick="openAuthModal('login')">
                        Ú†ÙˆÙˆÙ†Û•Ú˜ÙˆÙˆØ±Û•ÙˆÛ•
                    </button>
                </div>
            `;

            details.innerHTML = `
                <div class="detail-header">
                    <h2 class="detail-title">${video.title}</h2>
                    <div class="detail-stats">
                        <div class="stat-item">
                            <span class="stat-icon">ğŸ‘ï¸</span>
                            <span>${video.views} Ø¨ÛŒÙ†ÛŒÙ†</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">ğŸ“…</span>
                            <span>${formatUploadDate(video.uploadDate)}</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">â±ï¸</span>
                            <span>${video.duration}</span>
                        </div>
                    </div>
                </div>

                <div class="video-description">
                    <p>${video.description}</p>
                </div>

                <div class="comments-section">
                    <div class="comments-header">
                        <h3 class="comments-title">Ø¨Û†Ú†ÙˆÙˆÙ†Û•Ú©Ø§Ù†</h3>
                        <span class="comments-count" id="commentsCount">0</span>
                    </div>
                    
                    ${commentSection}
                    
                    <div class="comments-list" id="commentsList"></div>
                </div>
            `;

            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';

            if (window.loadComments) {
                window.loadComments(video.id);
            }
        }

        function closeVideoModal() {
            const modal = document.getElementById('videoModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
            document.getElementById('videoPlayer').innerHTML = '';
        }

        function formatUploadDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diff = Math.floor((now - date) / (1000 * 60 * 60 * 24));

            if (diff === 0) return 'Ø¦Û•Ù…Ú•Û†';
            if (diff === 1) return 'Ø¯ÙˆÛÙ†Û';
            if (diff < 7) return 'Ù„Û• ' + diff + ' Ú•Û†Ú˜';
            if (diff < 30) return 'Ù„Û• ' + Math.floor(diff / 7) + ' Ù‡Û•ÙØªÛ•';
            return 'Ù„Û• ' + Math.floor(diff / 30) + ' Ù…Ø§Ù†Ú¯';
        }

        function openAuthModal(tab) {
            const modal = document.getElementById('authModal');
            modal.style.display = 'flex';
            
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
            
            document.querySelector(`[data-tab="${tab}"]`).classList.add('active');
            document.getElementById(tab + 'Form').classList.add('active');
        }

        function closeAuthModal() {
            document.getElementById('authModal').style.display = 'none';
        }

        function showProfile() {
            document.getElementById('mainContent').classList.add('hidden');
            document.getElementById('profilePage').classList.remove('hidden');
            
            document.getElementById('totalWatched').textContent = '12';
            document.getElementById('totalComments').textContent = '18';
            document.getElementById('joinedDays').textContent = '45';
        }

        function showVideos() {
            document.getElementById('mainContent').classList.remove('hidden');
            document.getElementById('profilePage').classList.add('hidden');
        }

        document.getElementById('searchInput').addEventListener('input', (e) => {
            searchTerm = e.target.value;
            displayVideos();
        });

        document.querySelectorAll('.auth-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.dataset.tab;
                document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(tabName + 'Form').classList.add('active');
            });
        });

        document.getElementById('userAvatar')?.addEventListener('click', () => {
            document.getElementById('userWrapper').classList.toggle('active');
        });

        window.addEventListener('click', (e) => {
            const wrapper = document.getElementById('userWrapper');
            if (wrapper && !wrapper.contains(e.target)) {
                wrapper.classList.remove('active');
            }
        });

        window.onclick = (e) => {
            const videoModal = document.getElementById('videoModal');
            const authModal = document.getElementById('authModal');
            
            if (e.target === videoModal) closeVideoModal();
            if (e.target === authModal) closeAuthModal();
        };

        // Initialize the page
        displayVideos();
        document.getElementById('authButtons').classList.remove('hidden');
        
        // Add font loading optimization
        document.fonts.ready.then(() => {
            document.body.classList.add('fonts-loaded');
        });
    </script>
</body>
</html>
